{% extends 'base.html' %} {% load static %} {% block content %}
<link rel="stylesheet" href="{% static 'inventory/css/inventory.css' %}" />

<h2>Add Size Variant</h2>

<div class="size-variant-form-container">
  <form method="post">
    {% csrf_token %} {{ form.as_p }}
    <button type="submit">Add Size Variant</button>
  </form>
</div>
<h2>Size Variants</h2>
<table>
  <thead>
    <tr>
      <th>Item</th>
      <th>Size</th>
      <th>Original Qty</th>
      <th>Current Qty</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for item, variants in grouped_variants %}
      {% for variant in variants %}
        <tr>
          {% if forloop.first %}
            <td rowspan="{{ variants|length }}">{{ item.item_name }}</td>
          {% endif %}
          <td>{{ variant.size_label }}</td>
          <td>{{ variant.quantity_original }}</td>
          <td>{{ variant.quantity_current }}</td>
          <td>
            <a href="{% url 'edit_size_variant' variant.id %}">Edit</a>
            <a href="{% url 'delete_size_variant' variant.id %}">Delete</a>
          </td>
        </tr>
      {% endfor %}
    {% endfor %}
  </tbody>
</table>


{% endblock %}
