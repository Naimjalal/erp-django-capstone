<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ERP System</title>
  {% load static %}
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

<header>
  <nav>
    <a href="{% url 'home' %}">Home</a>

    {% if user.is_authenticated %}

      {# HR & Admin Access - Employee Management #}
      {% if user.role == 'hr' or user.role == 'admin' %}
        <a href="{% url 'add_employee' %}">Add Employee</a>
        <a href="{% url 'list_employee' %}">Employee List</a>
        <a href="{% url 'inactive_employees' %}">Inactive Employees</a>
        <a href="{% url 'employee_search' %}">Search Employee</a>
      {% endif %}

      {# Admin Only - Full Employee Control #}
      {% if user.role == 'admin' %}
        <a href="{% url 'inactive_employees' %}">Inactive Employees</a>
        <a href="{% url 'employee_search' %}">Search Employee</a>
      {% endif %}

      {# Supervisor & Admin - Inventory Management #}
      {% if user.role == 'supervisor' or user.role == 'admin' %}
        <a href="{% url 'add_inventory_category' %}">Add Category</a>
        <a href="{% url 'add_inventory_item' %}">Add Item</a>
        <a href="{% url 'add_size_variant' %}">Add Size Variant</a>
        <a href="{% url 'add_stock_receipt' %}">Add Stock Receipt</a>
        <a href="{% url 'stock_receipt_list' %}">All Stock Receipt</a>
        <a href="{% url 'add_item_issuance' %}">Issue Items</a>
        <a href="{% url 'return_items' %}">Return Items</a>
        <a href="{% url 'item_issuance_list' %}">Issued List</a>
        <a href="{% url 'return_list' %}">Returned List</a>

      {% endif %}

      {# Common for all authenticated users #}
      <span>Welcome, {{ user.username }}!</span>
      <form method="post" action="{% url 'logout' %}" style="display:inline;">
        {% csrf_token %}
        <button type="submit" style="background:none; border:none; color:white; text-decoration:underline; cursor:pointer;">Logout</button>
      </form>

    {% else %}
      <a href="{% url 'login' %}">Login</a>
    {% endif %}
  </nav>
</header>

<main>
  {% block content %}
  {% endblock %}
</main>

<footer>
  <p>Â© 2025 ERP System</p>
</footer>

</body>
</html>
